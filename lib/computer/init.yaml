# titi/computer/init.yaml
# Monoidal Computer - Categorical Computability Implementation
# Ref: arXiv:2208.03817v4

import:
  - !file composition.yaml
  - !file super.yaml
  - !file hyper.yaml

# § 2.1 - Core Types and Data Services
Language: &Language !ty ℙ

Copy: &Copy
  !id: Δ
  !dom: *Language
  !cod: [*Language, *Language]

Discard: &Discard
  !id: ε
  !dom: *Language
  !cod: !ty

Swap: &Swap
  !id: ς
  !dom: [*Language, *Language]
  !cod: [*Language, *Language]

# § 2.2 - Program Evaluation
Eval: &Eval
  !id: "{−}"
  !dom: [*Language, *Language]
  !cod: *Language

PartialEval: &PartialEval
  !id: "[−]"
  !dom: [*Language, *Language]
  !cod: *Language

# § 2.3 - Data and Programs
Data: &Data
  !id: "⌜{}⌝"
  !dom: !ty
  !cod: *Language

Program: &Program
  !id: Program
  !dom: *Language
  !cod: *Language

# § 2.4 - Logic and Equality
TRUE: &TRUE
  !id: ⊤
  !dom: !ty
  !cod: *Language

FALSE: &FALSE
  !id: ⊥
  !dom: !ty
  !cod: *Language

IFTE: &IFTE
  !id: ifte
  !dom: [*Language, *Language, *Language]
  !cod: *Language

ProgramEq: &ProgramEq
  !id: "=?"
  !dom: [*Language, *Language]
  !cod: *Language

# § 3 - Fixpoints
YCombinator: &YCombinator
  !id: Υ
  !dom: *Language
  !cod: *Language

# § 4 - Numbers and Recursion
ZERO: &ZERO
  !id: "0"
  !dom: !ty
  !cod: *Language

SUCC: &SUCC
  !id: s
  !dom: *Language
  !cod: *Language

PRED: &PRED
  !id: r
  !dom: *Language
  !cod: *Language

ISZERO: &ISZERO
  !id: "0?"
  !dom: *Language
  !cod: *Language

Induction: &Induction
  !id: ⟦{}, {}⟧
  !dom: *Language
  !cod: *Language

Recursion: &Recursion
  !id: ⟦{}, {}⟧
  !dom: [*Language, *Language]
  !cod: *Language

Minimization: &Minimization
  !id: μ{}
  !dom: *Language
  !cod: *Language

WhileLoop: &WhileLoop
  !id: while({}, {})
  !dom: [*Language, *Language]
  !cod: *Language

# § 6 - Metaprogramming and Supercompilation
compiler: &compiler
  !desc: "First Futamura Projection"
  !type: [Language, Language]

compiler_generator: &compiler_generator
  !desc: "Second Futamura Projection"
  !type: [Language, Language]

compiler_compiler: &compiler_compiler
  !desc: "Third Futamura Projection"
  !type: [Language, Language]
